(()=>{var C=document.getElementById("navToggle"),L=document.getElementById("navMenu"),I=document.getElementById("dienstenToggle"),u=document.getElementById("dienstenDropdown");C.addEventListener("click",()=>{let t=C.getAttribute("aria-expanded")==="true";C.setAttribute("aria-expanded",String(!t)),t?(L.classList.remove("opacity-100","scale-100"),L.classList.add("opacity-0","scale-95"),setTimeout(()=>{L.classList.add("hidden")},300)):(L.classList.remove("hidden"),requestAnimationFrame(()=>{L.classList.remove("opacity-0","scale-95"),L.classList.add("opacity-100","scale-100")}))});document.querySelectorAll("#navMenu a").forEach(t=>{t.addEventListener("click",()=>{window.innerWidth<768&&(C.setAttribute("aria-expanded","false"),L.classList.remove("opacity-100","scale-100"),L.classList.add("opacity-0","scale-95"),setTimeout(()=>{L.classList.add("hidden"),j()},300))})});I&&u&&(I.addEventListener("click",t=>{let a=I.getAttribute("aria-expanded")==="true";I.setAttribute("aria-expanded",String(!a)),a?(u.classList.remove("opacity-100","scale-100"),u.classList.add("opacity-0","scale-95"),setTimeout(()=>{u.classList.add("hidden")},200)):(u.classList.remove("hidden"),requestAnimationFrame(()=>{u.classList.remove("opacity-0","scale-95"),u.classList.add("opacity-100","scale-100")}))}),document.addEventListener("click",t=>{!I.contains(t.target)&&!u.contains(t.target)&&j()}));function j(){!I||!u||(I.setAttribute("aria-expanded","false"),u.classList.remove("opacity-100","scale-100"),u.classList.add("opacity-0","scale-95"),setTimeout(()=>{u.classList.add("hidden")},200))}document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll("section[id]"),a=document.querySelectorAll("#navMenu a");function i(){let r="";t.forEach(e=>{let n=e.offsetTop-150;window.scrollY>=n&&(r=e.getAttribute("id"))}),a.forEach(e=>{e.getAttribute("href").replace("/#","")===r?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}window.addEventListener("scroll",i),i()});var b=document.getElementById("toast"),$=document.getElementById("toast-message");function k(t,a="success"){$.textContent=t,b.classList.remove("bg-green-500","bg-red-500"),b.classList.add(a==="success"?"bg-green-500":"bg-red-500"),b.classList.add(a==="success"?"text-black":"text-white"),b.classList.remove("hidden"),requestAnimationFrame(()=>{b.classList.remove("translate-x-full","opacity-0"),b.classList.add("translate-x-0","opacity-100")}),setTimeout(()=>{b.classList.remove("translate-x-0","opacity-100"),b.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{b.classList.add("hidden")},500)},4e3)}document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("contactForm");function a(){t.querySelectorAll("input[required], select[required], textarea[required]").forEach(r=>{let e=t.querySelector(`label[for="${r.id}"]`);if(e&&!e.querySelector(".required-asterisk")){let n=document.createElement("span");n.textContent=" *",n.classList.add("text-red-600","required-asterisk"),e.appendChild(n)}})}function i(){document.querySelectorAll(".only-numbers").forEach(r=>{r.addEventListener("input",e=>{let n=r.getAttribute("maxlength")||999;e.target.value=e.target.value.replace(/\D/g,"").slice(0,n)}),r.addEventListener("keypress",e=>{/\d/.test(e.key)||e.preventDefault()}),r.addEventListener("paste",e=>{let n=(e.clipboardData||window.clipboardData).getData("text");/^\d+$/.test(n)||e.preventDefault()})})}a(),i(),t.addEventListener("submit",function(r){r.preventDefault();let e=document.getElementById("naam"),n=document.getElementById("email"),w=document.getElementById("gsm"),B=document.getElementById("straat"),S=document.getElementById("nummer"),c=document.getElementById("postcode"),D=document.getElementById("gemeente"),m=document.getElementById("dienst"),A=document.getElementById("onderwerp"),v=!0,g=(h,d,E)=>{let M=document.getElementById(d);M.classList.remove("hidden"),M.textContent=E,h.setAttribute("aria-invalid","true")},p=(h,d)=>{let E=document.getElementById(d);E.classList.add("hidden"),E.textContent="",h.setAttribute("aria-invalid","false")};e.value.trim()===""?(g(e,"error-naam","Naam is verplicht."),v=!1):p(e,"error-naam"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.value.trim())?p(n,"error-email"):(g(n,"error-email","Voer een geldig e-mailadres in."),v=!1);let s=w.value.replace(/[\s\-\.]/g,"").trim();s!==""&&(/^(?:\+32|0032)?0?(4[5-9]\d{7}|[1-9]\d{7})$/.test(s)?p(w,"error-gsm"):(g(w,"error-gsm","Voer een geldig GSM-nummer in."),v=!1));let z=/^\d{4}$/;if(c.value.trim()!==""&&(z.test(c.value.trim())?p(c,"error-postcode"):(g(c,"error-postcode","Voer een geldige postcode in (4 cijfers)."),v=!1)),m.value?p(m,"error-dienst"):(g(m,"error-dienst","Selecteer een dienst."),v=!1),A.value.trim().length<5?(g(A,"error-onderwerp","Onderwerp moet minstens 5 tekens bevatten."),v=!1):p(A,"error-onderwerp"),!v){k("Controleer de invoervelden aub.","error");return}let f=new JSEncrypt;f.setPublicKey(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzv4vZXSdrpkIzPFVRx8F
xPU5dD8g2nHwmDgOEG/w8H8wKnMvrXq+f7eyjRrlwAvhAgQsryX5xArUeZHkTQgX
5erCxRVeDeMvedxTLIIVSrGZTlCngYgbHmC0unKvyBsaI2GpTzWNMidGFK8CPhSa
Bs+7YOrFeG8hjZdmDdSqk+2uNZsa8cl3v36ITMczjoxxuRlsgJfIqyY999hdqDaE
biMOdQSR89qoogGsT9yZLuZ+4PFxS3k5neX+Nhi+J+6nls8Z8c0cwn3Mn3LPciR7
aVEMrW2ELS/faiqcEbvGPvTL0hhz11dkg/iXbL7w06lcGTL3AVbWwnqn4Ck6K8ac
GwIDAQAB
-----END PUBLIC KEY-----`);let F={naam:f.encrypt(e.value.trim()),email:f.encrypt(n.value.trim()),gsm:f.encrypt(s),straat:f.encrypt(B.value.trim()),nummer:f.encrypt(S.value.trim()),postcode:f.encrypt(c.value.trim()),gemeente:f.encrypt(D.value.trim()),dienst:f.encrypt(m.value.trim()),onderwerp:f.encrypt(A.value.trim())};for(let[h,d]of Object.entries(F))if(!d){k(`Encryptie fout op veld: ${h}`,"error");return}let q=new FormData;for(let[h,d]of Object.entries(F))q.append(h,d);q.append("website",""),grecaptcha.ready(function(){grecaptcha.execute("6LepJJsrAAAAAJd8sFU5DexBd0aQzQwHsMtzO5_U",{action:"submit"}).then(function(h){q.append("recaptcha_token",h),fetch(t.action,{method:"POST",body:q,headers:{Accept:"application/json"}}).then(d=>d.json()).then(d=>{if(d.success)t.reset(),t.querySelectorAll("[aria-invalid]").forEach(E=>E.setAttribute("aria-invalid","false")),k("Bedankt! Je aanvraag is verzonden.","success");else if(d.errors){for(let[E,M]of Object.entries(d.errors)){let O=document.getElementById(E),P=document.getElementById("error-"+E);O&&P&&(P.textContent=M,P.classList.remove("hidden"),O.setAttribute("aria-invalid","true"))}k("Er zijn enkele fouten. Controleer je invoer.","error")}else k("Onbekende fout. Probeer opnieuw.","error")}).catch(()=>{k("Verbindingsfout. Probeer het later opnieuw.","error")})})})})});var T=[{url:"assets/img/dak_reiniging_landing.webp?v=20250722",positionDesktop:"center right",positionMobile:"center right"},{url:"assets/img/dak_herstelling.webp?v=20250722-v2",positionDesktop:"top center",positionMobile:"center center"}],R=0,G=!0,y=document.getElementById("carousel-reiniging"),x=document.getElementById("carousel-herstelling");function V(){return window.matchMedia("(max-width: 767px)").matches}function X(t){return V()?t.positionMobile:t.positionDesktop}[y,x].forEach(t=>{t.style.transition="opacity 1s ease-in-out",t.style.backgroundSize="cover",t.style.willChange="opacity"});y.style.backgroundImage=`url('${T[0].url}')`;y.style.backgroundPosition=X(T[0]);y.style.backgroundAttachment="scroll";y.style.opacity=1;x.style.opacity=0;function Q(){let t=(R+1)%T.length,a=T[t],i=X(a),r=!V()&&t===1?"fixed":"scroll";G?(x.style.backgroundImage=`url('${a.url}')`,x.style.backgroundPosition=i,x.style.backgroundAttachment=r,x.style.opacity=1,y.style.opacity=0):(y.style.backgroundImage=`url('${a.url}')`,y.style.backgroundPosition=i,y.style.backgroundAttachment=r,y.style.opacity=1,x.style.opacity=0),G=!G,R=t}setInterval(Q,5e3);(function(){let t=document.getElementById("customSlider"),i=t.querySelectorAll(".slide").length;function r(){return window.innerWidth>=1024?3:window.innerWidth>=768?2:1}let e=0,n=r(),w=document.getElementById("pagination");function B(){w.innerHTML="";let o=Math.ceil(i/n);for(let l=0;l<o;l++){let s=document.createElement("button");s.setAttribute("aria-label",`Ga naar slide ${l+1}`),s.setAttribute("aria-current",l===0?"true":"false"),s.classList.add("w-4","h-4","rounded-full","bg-blue-400","cursor-pointer","opacity-50","hover:opacity-80","transition-opacity"),l===0&&s.classList.add("opacity-100"),s.addEventListener("click",()=>{e=l*n,c(),S()}),w.appendChild(s)}}function S(){let o=w.children,l=Math.floor(e/n);for(let s=0;s<o.length;s++)o[s].setAttribute("aria-current",s===l?"true":"false"),o[s].classList.toggle("opacity-100",s===l),o[s].classList.toggle("opacity-50",s!==l)}function c(){e<0&&(e=i-n),e>i-n&&(e=0);let o=100/n,l=-(e*o);t.style.transform=`translateX(${l}%)`,S()}document.getElementById("prevSlide").addEventListener("click",()=>{e-=n,e<0&&(e=i-n),c()}),document.getElementById("nextSlide").addEventListener("click",()=>{e+=n,e>i-n&&(e=0),c()});let D=0,m=!1;t.addEventListener("touchstart",o=>{D=o.touches[0].clientX,m=!0,p()}),t.addEventListener("touchmove",o=>{if(!m)return;let s=o.touches[0].clientX-D;s>50?(e-=n,e<0&&(e=i-n),c(),m=!1):s<-50&&(e+=n,e>i-n&&(e=0),c(),m=!1)}),t.addEventListener("touchend",()=>{m=!1,g()}),window.addEventListener("resize",()=>{let o=n;n=r(),n!==o&&(e=0,B(),c())});let A=null,v=1e4;function g(){p(),A=setInterval(()=>{e+=n,e>i-n&&(e=0),c()},v)}function p(){clearInterval(A)}t.addEventListener("mouseenter",p),t.addEventListener("mouseleave",g),B(),c(),g()})();})();
