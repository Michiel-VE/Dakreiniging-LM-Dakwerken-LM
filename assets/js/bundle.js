(()=>{var A=document.getElementById("navToggle"),g=document.getElementById("navMenu");A.addEventListener("click",()=>{let t=A.getAttribute("aria-expanded")==="true";A.setAttribute("aria-expanded",String(!t)),t?(g.classList.remove("opacity-100","scale-100"),g.classList.add("opacity-0","scale-95"),setTimeout(()=>{g.classList.add("hidden")},300)):(g.classList.remove("hidden"),requestAnimationFrame(()=>{g.classList.remove("opacity-0","scale-95"),g.classList.add("opacity-100","scale-100")}))});document.querySelectorAll("#navMenu a").forEach(t=>{t.addEventListener("click",()=>{window.innerWidth<768&&(A.setAttribute("aria-expanded","false"),g.classList.remove("opacity-100","scale-100"),g.classList.add("opacity-0","scale-95"),setTimeout(()=>{g.classList.add("hidden")},300))})});document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll("section[id]"),c=document.querySelectorAll("#navMenu a");function r(){let d="";t.forEach(e=>{let n=e.offsetTop-150;window.scrollY>=n&&(d=e.getAttribute("id"))}),c.forEach(e=>{e.getAttribute("href").replace("/#","")===d?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}window.addEventListener("scroll",r),r()});var p=document.getElementById("toast"),S=document.getElementById("toast-message");function b(t,c="success"){S.textContent=t,p.classList.remove("bg-green-500","bg-red-500"),p.classList.add(c==="success"?"bg-green-500":"bg-red-500"),p.classList.add(c==="success"?"text-black":"text-white"),p.classList.remove("hidden"),requestAnimationFrame(()=>{p.classList.remove("translate-x-full","opacity-0"),p.classList.add("translate-x-0","opacity-100")}),setTimeout(()=>{p.classList.remove("translate-x-0","opacity-100"),p.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{p.classList.add("hidden")},500)},4e3)}document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("contactForm");t.addEventListener("submit",function(c){c.preventDefault();let r=document.getElementById("naam"),d=document.getElementById("email"),e=document.getElementById("dienst"),n=document.getElementById("onderwerp"),u=!0,h=(o,l,y)=>{let f=document.getElementById(l);f.classList.remove("hidden"),f.textContent=y,o.setAttribute("aria-invalid","true")},E=(o,l)=>{let y=document.getElementById(l);y.classList.add("hidden"),y.textContent="",o.setAttribute("aria-invalid","false")};if(r.value.trim()===""?(h(r,"error-naam","Naam is verplicht."),u=!1):E(r,"error-naam"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.value.trim())?E(d,"error-email"):(h(d,"error-email","Voer een geldig e-mailadres in."),u=!1),e.value?E(e,"error-dienst"):(h(e,"error-dienst","Selecteer een dienst."),u=!1),n.value.trim().length<5?(h(n,"error-onderwerp","Onderwerp moet minstens 5 tekens bevatten."),u=!1):E(n,"error-onderwerp"),!u){b("Controleer de invoervelden aub.","error");return}let w=new FormData(t);fetch(t.action,{method:"POST",body:w,headers:{Accept:"application/json"}}).then(o=>o.json()).then(o=>{if(o.success)t.reset(),t.querySelectorAll("[aria-invalid]").forEach(l=>l.setAttribute("aria-invalid","false")),b("Bedankt! Je aanvraag is verzonden.","success");else if(o.errors){for(let[l,y]of Object.entries(o.errors)){let f=document.getElementById(l),L=document.getElementById("error-"+l);f&&L&&(L.textContent=y,L.classList.remove("hidden"),f.setAttribute("aria-invalid","true"))}b("Er zijn enkele fouten. Controleer je invoer.","error")}else b("Onbekende fout. Probeer opnieuw.","error")}).catch(()=>{b("Verbindingsfout. Probeer het later opnieuw.","error")})})});var k=[{url:"assets/img/dak_reiniging.webp?v=20250713",position:"center top"},{url:"assets/img/dak_herstelling.webp?v=20250713",position:"center center"}],B=0,x=!0,v=document.getElementById("carousel-reiniging"),I=document.getElementById("carousel-herstelling");v.style.backgroundImage=`url('${k[0].url}')`;v.style.backgroundPosition=k[0].position;v.style.opacity=1;I.style.opacity=0;function P(){let t=(B+1)%k.length,c=k[t];x?(I.style.backgroundImage=`url('${c.url}')`,I.style.backgroundPosition=c.position,I.style.opacity=1,v.style.opacity=0):(v.style.backgroundImage=`url('${c.url}')`,v.style.backgroundPosition=c.position,v.style.opacity=1,I.style.opacity=0),x=!x,B=t}[v,I].forEach(t=>{t.style.transition="opacity 1s ease-in-out",t.style.backgroundSize="cover",t.style.backgroundAttachment="fixed"});setInterval(P,5e3);(function(){let t=document.getElementById("customSlider"),r=t.querySelectorAll(".slide").length;function d(){return window.innerWidth>=1024?3:window.innerWidth>=768?2:1}let e=0,n=d(),u=document.getElementById("pagination");function h(){u.innerHTML="";let i=Math.ceil(r/n);for(let a=0;a<i;a++){let s=document.createElement("button");s.setAttribute("aria-label",`Ga naar slide ${a+1}`),s.setAttribute("aria-current",a===0?"true":"false"),s.classList.add("w-4","h-4","rounded-full","bg-blue-400","cursor-pointer","opacity-50","hover:opacity-80","transition-opacity"),a===0&&s.classList.add("opacity-100"),s.addEventListener("click",()=>{e=a*n,m(),E()}),u.appendChild(s)}}function E(){let i=u.children,a=Math.floor(e/n);for(let s=0;s<i.length;s++)i[s].setAttribute("aria-current",s===a?"true":"false"),i[s].classList.toggle("opacity-100",s===a),i[s].classList.toggle("opacity-50",s!==a)}function m(){e<0&&(e=r-n),e>r-n&&(e=0);let i=100/n,a=-(e*i);t.style.transform=`translateX(${a}%)`,E()}document.getElementById("prevSlide").addEventListener("click",()=>{e-=n,e<0&&(e=r-n),m()}),document.getElementById("nextSlide").addEventListener("click",()=>{e+=n,e>r-n&&(e=0),m()});let w=0,o=!1;t.addEventListener("touchstart",i=>{w=i.touches[0].clientX,o=!0,L()}),t.addEventListener("touchmove",i=>{if(!o)return;let s=i.touches[0].clientX-w;s>50?(e-=n,e<0&&(e=r-n),m(),o=!1):s<-50&&(e+=n,e>r-n&&(e=0),m(),o=!1)}),t.addEventListener("touchend",()=>{o=!1,f()}),window.addEventListener("resize",()=>{let i=n;n=d(),n!==i&&(e=0,h(),m())});let l=null,y=1e4;function f(){L(),l=setInterval(()=>{e+=n,e>r-n&&(e=0),m()},y)}function L(){clearInterval(l)}t.addEventListener("mouseenter",L),t.addEventListener("mouseleave",f),h(),m(),f()})();})();
