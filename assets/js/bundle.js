(()=>{var k=document.getElementById("navToggle"),p=document.getElementById("navMenu"),w=document.getElementById("dienstenToggle"),l=document.getElementById("dienstenDropdown");k.addEventListener("click",()=>{let e=k.getAttribute("aria-expanded")==="true";k.setAttribute("aria-expanded",String(!e)),e?(p.classList.remove("opacity-100","scale-100"),p.classList.add("opacity-0","scale-95"),setTimeout(()=>{p.classList.add("hidden")},300)):(p.classList.remove("hidden"),requestAnimationFrame(()=>{p.classList.remove("opacity-0","scale-95"),p.classList.add("opacity-100","scale-100")}))});document.querySelectorAll("#navMenu a").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<768&&(k.setAttribute("aria-expanded","false"),p.classList.remove("opacity-100","scale-100"),p.classList.add("opacity-0","scale-95"),setTimeout(()=>{p.classList.add("hidden"),T()},300))})});w&&l&&(w.addEventListener("click",e=>{let i=w.getAttribute("aria-expanded")==="true";w.setAttribute("aria-expanded",String(!i)),i?(l.classList.remove("opacity-100","scale-100"),l.classList.add("opacity-0","scale-95"),setTimeout(()=>{l.classList.add("hidden")},200)):(l.classList.remove("hidden"),requestAnimationFrame(()=>{l.classList.remove("opacity-0","scale-95"),l.classList.add("opacity-100","scale-100")}))}),document.addEventListener("click",e=>{!w.contains(e.target)&&!l.contains(e.target)&&T()}));function T(){!w||!l||(w.setAttribute("aria-expanded","false"),l.classList.remove("opacity-100","scale-100"),l.classList.add("opacity-0","scale-95"),setTimeout(()=>{l.classList.add("hidden")},200))}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("section[id]"),i=document.querySelectorAll("#navMenu a");function o(){let u="";e.forEach(t=>{let n=t.offsetTop-150;window.scrollY>=n&&(u=t.getAttribute("id"))}),i.forEach(t=>{t.getAttribute("href").replace("/#","")===u?t.setAttribute("aria-current","page"):t.removeAttribute("aria-current")})}window.addEventListener("scroll",o),o()});var y=document.getElementById("toast"),M=document.getElementById("toast-message");function I(e,i="success"){M.textContent=e,y.classList.remove("bg-green-500","bg-red-500"),y.classList.add(i==="success"?"bg-green-500":"bg-red-500"),y.classList.add(i==="success"?"text-black":"text-white"),y.classList.remove("hidden"),requestAnimationFrame(()=>{y.classList.remove("translate-x-full","opacity-0"),y.classList.add("translate-x-0","opacity-100")}),setTimeout(()=>{y.classList.remove("translate-x-0","opacity-100"),y.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{y.classList.add("hidden")},500)},4e3)}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("contactForm");e.addEventListener("submit",function(i){i.preventDefault();let o=document.getElementById("naam"),u=document.getElementById("email"),t=document.getElementById("dienst"),n=document.getElementById("onderwerp"),m=!0,L=(r,d,v)=>{let f=document.getElementById(d);f.classList.remove("hidden"),f.textContent=v,r.setAttribute("aria-invalid","true")},E=(r,d)=>{let v=document.getElementById(d);v.classList.add("hidden"),v.textContent="",r.setAttribute("aria-invalid","false")};if(o.value.trim()===""?(L(o,"error-naam","Naam is verplicht."),m=!1):E(o,"error-naam"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.value.trim())?E(u,"error-email"):(L(u,"error-email","Voer een geldig e-mailadres in."),m=!1),t.value?E(t,"error-dienst"):(L(t,"error-dienst","Selecteer een dienst."),m=!1),n.value.trim().length<5?(L(n,"error-onderwerp","Onderwerp moet minstens 5 tekens bevatten."),m=!1):E(n,"error-onderwerp"),!m){I("Controleer de invoervelden aub.","error");return}let x=new FormData(e);fetch(e.action,{method:"POST",body:x,headers:{Accept:"application/json"}}).then(r=>r.json()).then(r=>{if(r.success)e.reset(),e.querySelectorAll("[aria-invalid]").forEach(d=>d.setAttribute("aria-invalid","false")),I("Bedankt! Je aanvraag is verzonden.","success");else if(r.errors){for(let[d,v]of Object.entries(r.errors)){let f=document.getElementById(d),b=document.getElementById("error-"+d);f&&b&&(b.textContent=v,b.classList.remove("hidden"),f.setAttribute("aria-invalid","true"))}I("Er zijn enkele fouten. Controleer je invoer.","error")}else I("Onbekende fout. Probeer opnieuw.","error")}).catch(()=>{I("Verbindingsfout. Probeer het later opnieuw.","error")})})});var B=[{url:"assets/img/dak_reiniging.webp?v=20250713",position:"center top"},{url:"assets/img/dak_herstelling.webp?v=20250713",position:"center center"}],C=0,S=!0,h=document.getElementById("carousel-reiniging"),A=document.getElementById("carousel-herstelling");h.style.backgroundImage=`url('${B[0].url}')`;h.style.backgroundPosition=B[0].position;h.style.opacity=1;A.style.opacity=0;function P(){let e=(C+1)%B.length,i=B[e];S?(A.style.backgroundImage=`url('${i.url}')`,A.style.backgroundPosition=i.position,A.style.opacity=1,h.style.opacity=0):(h.style.backgroundImage=`url('${i.url}')`,h.style.backgroundPosition=i.position,h.style.opacity=1,A.style.opacity=0),S=!S,C=e}var D=window.matchMedia("(max-width: 768px)").matches;[h,A].forEach(e=>{e.style.transition="opacity 1s ease-in-out",e.style.backgroundSize="cover",e.style.backgroundAttachment=D?"scroll":"fixed",e.style.willChange="opacity"});setInterval(P,5e3);(function(){let e=document.getElementById("customSlider"),o=e.querySelectorAll(".slide").length;function u(){return window.innerWidth>=1024?3:window.innerWidth>=768?2:1}let t=0,n=u(),m=document.getElementById("pagination");function L(){m.innerHTML="";let a=Math.ceil(o/n);for(let c=0;c<a;c++){let s=document.createElement("button");s.setAttribute("aria-label",`Ga naar slide ${c+1}`),s.setAttribute("aria-current",c===0?"true":"false"),s.classList.add("w-4","h-4","rounded-full","bg-blue-400","cursor-pointer","opacity-50","hover:opacity-80","transition-opacity"),c===0&&s.classList.add("opacity-100"),s.addEventListener("click",()=>{t=c*n,g(),E()}),m.appendChild(s)}}function E(){let a=m.children,c=Math.floor(t/n);for(let s=0;s<a.length;s++)a[s].setAttribute("aria-current",s===c?"true":"false"),a[s].classList.toggle("opacity-100",s===c),a[s].classList.toggle("opacity-50",s!==c)}function g(){t<0&&(t=o-n),t>o-n&&(t=0);let a=100/n,c=-(t*a);e.style.transform=`translateX(${c}%)`,E()}document.getElementById("prevSlide").addEventListener("click",()=>{t-=n,t<0&&(t=o-n),g()}),document.getElementById("nextSlide").addEventListener("click",()=>{t+=n,t>o-n&&(t=0),g()});let x=0,r=!1;e.addEventListener("touchstart",a=>{x=a.touches[0].clientX,r=!0,b()}),e.addEventListener("touchmove",a=>{if(!r)return;let s=a.touches[0].clientX-x;s>50?(t-=n,t<0&&(t=o-n),g(),r=!1):s<-50&&(t+=n,t>o-n&&(t=0),g(),r=!1)}),e.addEventListener("touchend",()=>{r=!1,f()}),window.addEventListener("resize",()=>{let a=n;n=u(),n!==a&&(t=0,L(),g())});let d=null,v=1e4;function f(){b(),d=setInterval(()=>{t+=n,t>o-n&&(t=0),g()},v)}function b(){clearInterval(d)}e.addEventListener("mouseenter",b),e.addEventListener("mouseleave",f),L(),g(),f()})();})();
