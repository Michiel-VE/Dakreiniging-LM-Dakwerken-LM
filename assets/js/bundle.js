(()=>{var x=document.getElementById("navToggle"),y=document.getElementById("navMenu"),E=document.getElementById("dienstenToggle"),u=document.getElementById("dienstenDropdown");x.addEventListener("click",()=>{let e=x.getAttribute("aria-expanded")==="true";x.setAttribute("aria-expanded",String(!e)),e?(y.classList.remove("opacity-100","scale-100"),y.classList.add("opacity-0","scale-95"),setTimeout(()=>{y.classList.add("hidden")},300)):(y.classList.remove("hidden"),requestAnimationFrame(()=>{y.classList.remove("opacity-0","scale-95"),y.classList.add("opacity-100","scale-100")}))});document.querySelectorAll("#navMenu a").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<768&&(x.setAttribute("aria-expanded","false"),y.classList.remove("opacity-100","scale-100"),y.classList.add("opacity-0","scale-95"),setTimeout(()=>{y.classList.add("hidden"),M()},300))})});E&&u&&(E.addEventListener("click",e=>{let r=E.getAttribute("aria-expanded")==="true";E.setAttribute("aria-expanded",String(!r)),r?(u.classList.remove("opacity-100","scale-100"),u.classList.add("opacity-0","scale-95"),setTimeout(()=>{u.classList.add("hidden")},200)):(u.classList.remove("hidden"),requestAnimationFrame(()=>{u.classList.remove("opacity-0","scale-95"),u.classList.add("opacity-100","scale-100")}))}),document.addEventListener("click",e=>{!E.contains(e.target)&&!u.contains(e.target)&&M()}));function M(){!E||!u||(E.setAttribute("aria-expanded","false"),u.classList.remove("opacity-100","scale-100"),u.classList.add("opacity-0","scale-95"),setTimeout(()=>{u.classList.add("hidden")},200))}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("section[id]"),r=document.querySelectorAll("#navMenu a");function s(){let l="";e.forEach(t=>{let n=t.offsetTop-150;window.scrollY>=n&&(l=t.getAttribute("id"))}),r.forEach(t=>{t.getAttribute("href").replace("/#","")===l?t.setAttribute("aria-current","page"):t.removeAttribute("aria-current")})}window.addEventListener("scroll",s),s()});var v=document.getElementById("toast"),C=document.getElementById("toast-message");function I(e,r="success"){C.textContent=e,v.classList.remove("bg-green-500","bg-red-500"),v.classList.add(r==="success"?"bg-green-500":"bg-red-500"),v.classList.add(r==="success"?"text-black":"text-white"),v.classList.remove("hidden"),requestAnimationFrame(()=>{v.classList.remove("translate-x-full","opacity-0"),v.classList.add("translate-x-0","opacity-100")}),setTimeout(()=>{v.classList.remove("translate-x-0","opacity-100"),v.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{v.classList.add("hidden")},500)},4e3)}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("contactForm");e.addEventListener("submit",function(r){r.preventDefault();let s=document.getElementById("naam"),l=document.getElementById("email"),t=document.getElementById("dienst"),n=document.getElementById("onderwerp"),g=!0,L=(h,d,a)=>{let f=document.getElementById(d);f.classList.remove("hidden"),f.textContent=a,h.setAttribute("aria-invalid","true")},b=(h,d)=>{let a=document.getElementById(d);a.classList.add("hidden"),a.textContent="",h.setAttribute("aria-invalid","false")};if(s.value.trim()===""?(L(s,"error-naam","Naam is verplicht."),g=!1):b(s,"error-naam"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value.trim())?b(l,"error-email"):(L(l,"error-email","Voer een geldig e-mailadres in."),g=!1),t.value?b(t,"error-dienst"):(L(t,"error-dienst","Selecteer een dienst."),g=!1),n.value.trim().length<5?(L(n,"error-onderwerp","Onderwerp moet minstens 5 tekens bevatten."),g=!1):b(n,"error-onderwerp"),!g){I("Controleer de invoervelden aub.","error");return}grecaptcha.ready(function(){grecaptcha.execute("6LepJJsrAAAAAJd8sFU5DexBd0aQzQwHsMtzO5_U",{action:"submit"}).then(function(h){let d=new FormData(e);d.append("recaptcha_token",h),fetch(e.action,{method:"POST",body:d,headers:{Accept:"application/json"}}).then(a=>a.json()).then(a=>{if(a.success)e.reset(),e.querySelectorAll("[aria-invalid]").forEach(f=>f.setAttribute("aria-invalid","false")),I("Bedankt! Je aanvraag is verzonden.","success");else if(a.errors){for(let[f,k]of Object.entries(a.errors)){let A=document.getElementById(f),i=document.getElementById("error-"+f);A&&i&&(i.textContent=k,i.classList.remove("hidden"),A.setAttribute("aria-invalid","true"))}I("Er zijn enkele fouten. Controleer je invoer.","error")}else I("Onbekende fout. Probeer opnieuw.","error")}).catch(()=>{I("Verbindingsfout. Probeer het later opnieuw.","error")})})})})});var B=[{url:"assets/img/dak_reiniging_landing.webp?v=20250722",positionDesktop:"center right",positionMobile:"center right"},{url:"assets/img/dak_herstelling.webp?v=20250722-v2",positionDesktop:"top center",positionMobile:"center center"}],T=0,S=!0,m=document.getElementById("carousel-reiniging"),w=document.getElementById("carousel-herstelling");function D(){return window.matchMedia("(max-width: 767px)").matches}function P(e){return D()?e.positionMobile:e.positionDesktop}[m,w].forEach(e=>{e.style.transition="opacity 1s ease-in-out",e.style.backgroundSize="cover",e.style.willChange="opacity"});m.style.backgroundImage=`url('${B[0].url}')`;m.style.backgroundPosition=P(B[0]);m.style.backgroundAttachment="scroll";m.style.opacity=1;w.style.opacity=0;function q(){let e=(T+1)%B.length,r=B[e],s=P(r),l=!D()&&e===1?"fixed":"scroll";S?(w.style.backgroundImage=`url('${r.url}')`,w.style.backgroundPosition=s,w.style.backgroundAttachment=l,w.style.opacity=1,m.style.opacity=0):(m.style.backgroundImage=`url('${r.url}')`,m.style.backgroundPosition=s,m.style.backgroundAttachment=l,m.style.opacity=1,w.style.opacity=0),S=!S,T=e}setInterval(q,5e3);(function(){let e=document.getElementById("customSlider"),s=e.querySelectorAll(".slide").length;function l(){return window.innerWidth>=1024?3:window.innerWidth>=768?2:1}let t=0,n=l(),g=document.getElementById("pagination");function L(){g.innerHTML="";let i=Math.ceil(s/n);for(let c=0;c<i;c++){let o=document.createElement("button");o.setAttribute("aria-label",`Ga naar slide ${c+1}`),o.setAttribute("aria-current",c===0?"true":"false"),o.classList.add("w-4","h-4","rounded-full","bg-blue-400","cursor-pointer","opacity-50","hover:opacity-80","transition-opacity"),c===0&&o.classList.add("opacity-100"),o.addEventListener("click",()=>{t=c*n,p(),b()}),g.appendChild(o)}}function b(){let i=g.children,c=Math.floor(t/n);for(let o=0;o<i.length;o++)i[o].setAttribute("aria-current",o===c?"true":"false"),i[o].classList.toggle("opacity-100",o===c),i[o].classList.toggle("opacity-50",o!==c)}function p(){t<0&&(t=s-n),t>s-n&&(t=0);let i=100/n,c=-(t*i);e.style.transform=`translateX(${c}%)`,b()}document.getElementById("prevSlide").addEventListener("click",()=>{t-=n,t<0&&(t=s-n),p()}),document.getElementById("nextSlide").addEventListener("click",()=>{t+=n,t>s-n&&(t=0),p()});let h=0,d=!1;e.addEventListener("touchstart",i=>{h=i.touches[0].clientX,d=!0,A()}),e.addEventListener("touchmove",i=>{if(!d)return;let o=i.touches[0].clientX-h;o>50?(t-=n,t<0&&(t=s-n),p(),d=!1):o<-50&&(t+=n,t>s-n&&(t=0),p(),d=!1)}),e.addEventListener("touchend",()=>{d=!1,k()}),window.addEventListener("resize",()=>{let i=n;n=l(),n!==i&&(t=0,L(),p())});let a=null,f=1e4;function k(){A(),a=setInterval(()=>{t+=n,t>s-n&&(t=0),p()},f)}function A(){clearInterval(a)}e.addEventListener("mouseenter",A),e.addEventListener("mouseleave",k),L(),p(),k()})();})();
