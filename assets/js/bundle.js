(()=>{var C=document.getElementById("navToggle"),L=document.getElementById("navMenu"),B=document.getElementById("dienstenToggle"),p=document.getElementById("dienstenDropdown");C.addEventListener("click",()=>{let t=C.getAttribute("aria-expanded")==="true";C.setAttribute("aria-expanded",String(!t)),t?(L.classList.remove("opacity-100","scale-100"),L.classList.add("opacity-0","scale-95"),setTimeout(()=>{L.classList.add("hidden")},300)):(L.classList.remove("hidden"),requestAnimationFrame(()=>{L.classList.remove("opacity-0","scale-95"),L.classList.add("opacity-100","scale-100")}))});document.querySelectorAll("#navMenu a").forEach(t=>{t.addEventListener("click",()=>{window.innerWidth<768&&(C.setAttribute("aria-expanded","false"),L.classList.remove("opacity-100","scale-100"),L.classList.add("opacity-0","scale-95"),setTimeout(()=>{L.classList.add("hidden"),R()},300))})});B&&p&&(B.addEventListener("click",t=>{let a=B.getAttribute("aria-expanded")==="true";B.setAttribute("aria-expanded",String(!a)),a?(p.classList.remove("opacity-100","scale-100"),p.classList.add("opacity-0","scale-95"),setTimeout(()=>{p.classList.add("hidden")},200)):(p.classList.remove("hidden"),requestAnimationFrame(()=>{p.classList.remove("opacity-0","scale-95"),p.classList.add("opacity-100","scale-100")}))}),document.addEventListener("click",t=>{!B.contains(t.target)&&!p.contains(t.target)&&R()}));function R(){!B||!p||(B.setAttribute("aria-expanded","false"),p.classList.remove("opacity-100","scale-100"),p.classList.add("opacity-0","scale-95"),setTimeout(()=>{p.classList.add("hidden")},200))}document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll("section[id]"),a=document.querySelectorAll("#navMenu a");function i(){let s="";t.forEach(e=>{let n=e.offsetTop-150;window.scrollY>=n&&(s=e.getAttribute("id"))}),a.forEach(e=>{e.getAttribute("href").replace("/#","")===s?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}window.addEventListener("scroll",i),i()});var b=document.getElementById("toast"),z=document.getElementById("toast-message");function S(t,a="success"){z.textContent=t,b.classList.remove("bg-green-500","bg-red-500"),b.classList.add(a==="success"?"bg-green-500":"bg-red-500"),b.classList.add(a==="success"?"text-black":"text-white"),b.classList.remove("hidden"),requestAnimationFrame(()=>{b.classList.remove("translate-x-full","opacity-0"),b.classList.add("translate-x-0","opacity-100")}),setTimeout(()=>{b.classList.remove("translate-x-0","opacity-100"),b.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{b.classList.add("hidden")},500)},4e3)}document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("contactForm");function a(){t.querySelectorAll("input[required], select[required], textarea[required]").forEach(s=>{let e=t.querySelector(`label[for="${s.id}"]`);if(e&&!e.querySelector(".required-asterisk")){let n=document.createElement("span");n.textContent=" *",n.classList.add("text-red-600","required-asterisk"),e.appendChild(n)}})}function i(){document.querySelectorAll(".only-numbers").forEach(s=>{s.addEventListener("input",e=>{let n=s.getAttribute("maxlength")||999;e.target.value=e.target.value.replace(/\D/g,"").slice(0,n)}),s.addEventListener("keypress",e=>{/\d/.test(e.key)||e.preventDefault()}),s.addEventListener("paste",e=>{let n=(e.clipboardData||window.clipboardData).getData("text");/^\d+$/.test(n)||e.preventDefault()})})}a(),i(),t.addEventListener("submit",function(s){s.preventDefault();let e=document.getElementById("naam"),n=document.getElementById("email"),w=document.getElementById("gsm"),A=document.getElementById("straat"),I=document.getElementById("nummer"),l=document.getElementById("postcode"),x=document.getElementById("gemeente"),f=document.getElementById("dienst"),k=document.getElementById("onderwerp"),g=!0,d=(h,m,E)=>{let M=document.getElementById(m);M.classList.remove("hidden"),M.textContent=E,h.setAttribute("aria-invalid","true")},u=(h,m)=>{let E=document.getElementById(m);E.classList.add("hidden"),E.textContent="",h.setAttribute("aria-invalid","false")};e.value.trim()===""?(d(e,"error-naam","Naam is verplicht."),g=!1):u(e,"error-naam"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.value.trim())?u(n,"error-email"):(d(n,"error-email","Voer een geldig e-mailadres in."),g=!1);let r=w.value.replace(/[\s\-\.]/g,"").trim();if(/^(?:\+32|0032)?0?(4[5-9]\d{7}|[1-9]\d{7})$/.test(r)?u(w,"error-gsm"):(d(w,"error-gsm","Voer een geldig GSM-nummer in."),g=!1),A.value.trim()===""?(d(A,"error-straat","Straat is verplicht."),g=!1):u(A,"error-straat"),I.value.trim()===""?(d(I,"error-nummer","Nummer is verplicht."),g=!1):u(I,"error-nummer"),/^\d{4}$/.test(l.value.trim())?u(l,"error-postcode"):(d(l,"error-postcode","Voer een geldige postcode in (4 cijfers)."),g=!1),x.value.trim()===""?(d(x,"error-gemeente","Gemeente is verplicht."),g=!1):u(x,"error-gemeente"),f.value?u(f,"error-dienst"):(d(f,"error-dienst","Selecteer een dienst."),g=!1),k.value.trim().length<5?(d(k,"error-onderwerp","Onderwerp moet minstens 5 tekens bevatten."),g=!1):u(k,"error-onderwerp"),!g){S("Controleer de invoervelden aub.","error");return}let y=new JSEncrypt;y.setPublicKey(`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzv4vZXSdrpkIzPFVRx8F
xPU5dD8g2nHwmDgOEG/w8H8wKnMvrXq+f7eyjRrlwAvhAgQsryX5xArUeZHkTQgX
5erCxRVeDeMvedxTLIIVSrGZTlCngYgbHmC0unKvyBsaI2GpTzWNMidGFK8CPhSa
Bs+7YOrFeG8hjZdmDdSqk+2uNZsa8cl3v36ITMczjoxxuRlsgJfIqyY999hdqDaE
biMOdQSR89qoogGsT9yZLuZ+4PFxS3k5neX+Nhi+J+6nls8Z8c0cwn3Mn3LPciR7
aVEMrW2ELS/faiqcEbvGPvTL0hhz11dkg/iXbL7w06lcGTL3AVbWwnqn4Ck6K8ac
GwIDAQAB
-----END PUBLIC KEY-----`);let F={naam:y.encrypt(e.value.trim()),email:y.encrypt(n.value.trim()),gsm:y.encrypt(r),straat:y.encrypt(A.value.trim()),nummer:y.encrypt(I.value.trim()),postcode:y.encrypt(l.value.trim()),gemeente:y.encrypt(x.value.trim()),dienst:y.encrypt(f.value.trim()),onderwerp:y.encrypt(k.value.trim())};for(let[h,m]of Object.entries(F))if(!m){S(`Encryptie fout op veld: ${h}`,"error");return}let q=new FormData;for(let[h,m]of Object.entries(F))q.append(h,m);q.append("website",""),grecaptcha.ready(function(){grecaptcha.execute("6LepJJsrAAAAAJd8sFU5DexBd0aQzQwHsMtzO5_U",{action:"submit"}).then(function(h){q.append("recaptcha_token",h),fetch(t.action,{method:"POST",body:q,headers:{Accept:"application/json"}}).then(m=>m.json()).then(m=>{if(m.success)t.reset(),t.querySelectorAll("[aria-invalid]").forEach(E=>E.setAttribute("aria-invalid","false")),S("Bedankt! Je aanvraag is verzonden.","success");else if(m.errors){for(let[E,M]of Object.entries(m.errors)){let O=document.getElementById(E),P=document.getElementById("error-"+E);O&&P&&(P.textContent=M,P.classList.remove("hidden"),O.setAttribute("aria-invalid","true"))}S("Er zijn enkele fouten. Controleer je invoer.","error")}else S("Onbekende fout. Probeer opnieuw.","error")}).catch(()=>{S("Verbindingsfout. Probeer het later opnieuw.","error")})})})})});var T=[{url:"assets/img/dak_reiniging_landing.webp?v=20250722",positionDesktop:"center right",positionMobile:"center right"},{url:"assets/img/dak_herstelling.webp?v=20250722-v2",positionDesktop:"top center",positionMobile:"center center"}],j=0,G=!0,v=document.getElementById("carousel-reiniging"),D=document.getElementById("carousel-herstelling");function V(){return window.matchMedia("(max-width: 767px)").matches}function X(t){return V()?t.positionMobile:t.positionDesktop}[v,D].forEach(t=>{t.style.transition="opacity 1s ease-in-out",t.style.backgroundSize="cover",t.style.willChange="opacity"});v.style.backgroundImage=`url('${T[0].url}')`;v.style.backgroundPosition=X(T[0]);v.style.backgroundAttachment="scroll";v.style.opacity=1;D.style.opacity=0;function $(){let t=(j+1)%T.length,a=T[t],i=X(a),s=!V()&&t===1?"fixed":"scroll";G?(D.style.backgroundImage=`url('${a.url}')`,D.style.backgroundPosition=i,D.style.backgroundAttachment=s,D.style.opacity=1,v.style.opacity=0):(v.style.backgroundImage=`url('${a.url}')`,v.style.backgroundPosition=i,v.style.backgroundAttachment=s,v.style.opacity=1,D.style.opacity=0),G=!G,j=t}setInterval($,5e3);(function(){let t=document.getElementById("customSlider"),i=t.querySelectorAll(".slide").length;function s(){return window.innerWidth>=1024?3:window.innerWidth>=768?2:1}let e=0,n=s(),w=document.getElementById("pagination");function A(){w.innerHTML="";let o=Math.ceil(i/n);for(let c=0;c<o;c++){let r=document.createElement("button");r.setAttribute("aria-label",`Ga naar slide ${c+1}`),r.setAttribute("aria-current",c===0?"true":"false"),r.classList.add("w-4","h-4","rounded-full","bg-blue-400","cursor-pointer","opacity-50","hover:opacity-80","transition-opacity"),c===0&&r.classList.add("opacity-100"),r.addEventListener("click",()=>{e=c*n,l(),I()}),w.appendChild(r)}}function I(){let o=w.children,c=Math.floor(e/n);for(let r=0;r<o.length;r++)o[r].setAttribute("aria-current",r===c?"true":"false"),o[r].classList.toggle("opacity-100",r===c),o[r].classList.toggle("opacity-50",r!==c)}function l(){e<0&&(e=i-n),e>i-n&&(e=0);let o=100/n,c=-(e*o);t.style.transform=`translateX(${c}%)`,I()}document.getElementById("prevSlide").addEventListener("click",()=>{e-=n,e<0&&(e=i-n),l()}),document.getElementById("nextSlide").addEventListener("click",()=>{e+=n,e>i-n&&(e=0),l()});let x=0,f=!1;t.addEventListener("touchstart",o=>{x=o.touches[0].clientX,f=!0,u()}),t.addEventListener("touchmove",o=>{if(!f)return;let r=o.touches[0].clientX-x;r>50?(e-=n,e<0&&(e=i-n),l(),f=!1):r<-50&&(e+=n,e>i-n&&(e=0),l(),f=!1)}),t.addEventListener("touchend",()=>{f=!1,d()}),window.addEventListener("resize",()=>{let o=n;n=s(),n!==o&&(e=0,A(),l())});let k=null,g=1e4;function d(){u(),k=setInterval(()=>{e+=n,e>i-n&&(e=0),l()},g)}function u(){clearInterval(k)}t.addEventListener("mouseenter",u),t.addEventListener("mouseleave",d),A(),l(),d()})();})();
