(()=>{var x=document.getElementById("navToggle"),y=document.getElementById("navMenu"),w=document.getElementById("dienstenToggle"),d=document.getElementById("dienstenDropdown");x.addEventListener("click",()=>{let e=x.getAttribute("aria-expanded")==="true";x.setAttribute("aria-expanded",String(!e)),e?(y.classList.remove("opacity-100","scale-100"),y.classList.add("opacity-0","scale-95"),setTimeout(()=>{y.classList.add("hidden")},300)):(y.classList.remove("hidden"),requestAnimationFrame(()=>{y.classList.remove("opacity-0","scale-95"),y.classList.add("opacity-100","scale-100")}))});document.querySelectorAll("#navMenu a").forEach(e=>{e.addEventListener("click",()=>{window.innerWidth<768&&(x.setAttribute("aria-expanded","false"),y.classList.remove("opacity-100","scale-100"),y.classList.add("opacity-0","scale-95"),setTimeout(()=>{y.classList.add("hidden"),T()},300))})});w&&d&&(w.addEventListener("click",e=>{let r=w.getAttribute("aria-expanded")==="true";w.setAttribute("aria-expanded",String(!r)),r?(d.classList.remove("opacity-100","scale-100"),d.classList.add("opacity-0","scale-95"),setTimeout(()=>{d.classList.add("hidden")},200)):(d.classList.remove("hidden"),requestAnimationFrame(()=>{d.classList.remove("opacity-0","scale-95"),d.classList.add("opacity-100","scale-100")}))}),document.addEventListener("click",e=>{!w.contains(e.target)&&!d.contains(e.target)&&T()}));function T(){!w||!d||(w.setAttribute("aria-expanded","false"),d.classList.remove("opacity-100","scale-100"),d.classList.add("opacity-0","scale-95"),setTimeout(()=>{d.classList.add("hidden")},200))}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("section[id]"),r=document.querySelectorAll("#navMenu a");function s(){let l="";e.forEach(t=>{let n=t.offsetTop-150;window.scrollY>=n&&(l=t.getAttribute("id"))}),r.forEach(t=>{t.getAttribute("href").replace("/#","")===l?t.setAttribute("aria-current","page"):t.removeAttribute("aria-current")})}window.addEventListener("scroll",s),s()});var v=document.getElementById("toast"),C=document.getElementById("toast-message");function A(e,r="success"){C.textContent=e,v.classList.remove("bg-green-500","bg-red-500"),v.classList.add(r==="success"?"bg-green-500":"bg-red-500"),v.classList.add(r==="success"?"text-black":"text-white"),v.classList.remove("hidden"),requestAnimationFrame(()=>{v.classList.remove("translate-x-full","opacity-0"),v.classList.add("translate-x-0","opacity-100")}),setTimeout(()=>{v.classList.remove("translate-x-0","opacity-100"),v.classList.add("translate-x-full","opacity-0"),setTimeout(()=>{v.classList.add("hidden")},500)},4e3)}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("contactForm");e.addEventListener("submit",function(r){r.preventDefault();let s=document.getElementById("naam"),l=document.getElementById("email"),t=document.getElementById("dienst"),n=document.getElementById("onderwerp"),g=!0,L=(o,u,h)=>{let p=document.getElementById(u);p.classList.remove("hidden"),p.textContent=h,o.setAttribute("aria-invalid","true")},b=(o,u)=>{let h=document.getElementById(u);h.classList.add("hidden"),h.textContent="",o.setAttribute("aria-invalid","false")};if(s.value.trim()===""?(L(s,"error-naam","Naam is verplicht."),g=!1):b(s,"error-naam"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value.trim())?b(l,"error-email"):(L(l,"error-email","Voer een geldig e-mailadres in."),g=!1),t.value?b(t,"error-dienst"):(L(t,"error-dienst","Selecteer een dienst."),g=!1),n.value.trim().length<5?(L(n,"error-onderwerp","Onderwerp moet minstens 5 tekens bevatten."),g=!1):b(n,"error-onderwerp"),!g){A("Controleer de invoervelden aub.","error");return}let k=new FormData(e);fetch(e.action,{method:"POST",body:k,headers:{Accept:"application/json"}}).then(o=>o.json()).then(o=>{if(o.success)e.reset(),e.querySelectorAll("[aria-invalid]").forEach(u=>u.setAttribute("aria-invalid","false")),A("Bedankt! Je aanvraag is verzonden.","success");else if(o.errors){for(let[u,h]of Object.entries(o.errors)){let p=document.getElementById(u),E=document.getElementById("error-"+u);p&&E&&(E.textContent=h,E.classList.remove("hidden"),p.setAttribute("aria-invalid","true"))}A("Er zijn enkele fouten. Controleer je invoer.","error")}else A("Onbekende fout. Probeer opnieuw.","error")}).catch(()=>{A("Verbindingsfout. Probeer het later opnieuw.","error")})})});var B=[{url:"assets/img/dak_reiniging_landing.webp?v=20250722",positionDesktop:"center right",positionMobile:"center right"},{url:"assets/img/dak_herstelling.webp?v=20250722",positionDesktop:"top center",positionMobile:"top center"}],M=0,S=!0,m=document.getElementById("carousel-reiniging"),I=document.getElementById("carousel-herstelling");function D(){return window.matchMedia("(max-width: 767px)").matches}function P(e){return D()?e.positionMobile:e.positionDesktop}[m,I].forEach(e=>{e.style.transition="opacity 1s ease-in-out",e.style.backgroundSize="cover",e.style.willChange="opacity"});m.style.backgroundImage=`url('${B[0].url}')`;m.style.backgroundPosition=P(B[0]);m.style.backgroundAttachment="scroll";m.style.opacity=1;I.style.opacity=0;function q(){let e=(M+1)%B.length,r=B[e],s=P(r),l=!D()&&e===1?"fixed":"scroll";S?(I.style.backgroundImage=`url('${r.url}')`,I.style.backgroundPosition=s,I.style.backgroundAttachment=l,I.style.opacity=1,m.style.opacity=0):(m.style.backgroundImage=`url('${r.url}')`,m.style.backgroundPosition=s,m.style.backgroundAttachment=l,m.style.opacity=1,I.style.opacity=0),S=!S,M=e}setInterval(q,5e3);(function(){let e=document.getElementById("customSlider"),s=e.querySelectorAll(".slide").length;function l(){return window.innerWidth>=1024?3:window.innerWidth>=768?2:1}let t=0,n=l(),g=document.getElementById("pagination");function L(){g.innerHTML="";let a=Math.ceil(s/n);for(let c=0;c<a;c++){let i=document.createElement("button");i.setAttribute("aria-label",`Ga naar slide ${c+1}`),i.setAttribute("aria-current",c===0?"true":"false"),i.classList.add("w-4","h-4","rounded-full","bg-blue-400","cursor-pointer","opacity-50","hover:opacity-80","transition-opacity"),c===0&&i.classList.add("opacity-100"),i.addEventListener("click",()=>{t=c*n,f(),b()}),g.appendChild(i)}}function b(){let a=g.children,c=Math.floor(t/n);for(let i=0;i<a.length;i++)a[i].setAttribute("aria-current",i===c?"true":"false"),a[i].classList.toggle("opacity-100",i===c),a[i].classList.toggle("opacity-50",i!==c)}function f(){t<0&&(t=s-n),t>s-n&&(t=0);let a=100/n,c=-(t*a);e.style.transform=`translateX(${c}%)`,b()}document.getElementById("prevSlide").addEventListener("click",()=>{t-=n,t<0&&(t=s-n),f()}),document.getElementById("nextSlide").addEventListener("click",()=>{t+=n,t>s-n&&(t=0),f()});let k=0,o=!1;e.addEventListener("touchstart",a=>{k=a.touches[0].clientX,o=!0,E()}),e.addEventListener("touchmove",a=>{if(!o)return;let i=a.touches[0].clientX-k;i>50?(t-=n,t<0&&(t=s-n),f(),o=!1):i<-50&&(t+=n,t>s-n&&(t=0),f(),o=!1)}),e.addEventListener("touchend",()=>{o=!1,p()}),window.addEventListener("resize",()=>{let a=n;n=l(),n!==a&&(t=0,L(),f())});let u=null,h=1e4;function p(){E(),u=setInterval(()=>{t+=n,t>s-n&&(t=0),f()},h)}function E(){clearInterval(u)}e.addEventListener("mouseenter",E),e.addEventListener("mouseleave",p),L(),f(),p()})();})();
